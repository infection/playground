{% if astRun is defined %}
    <div id="loaded-code" data-code="{{ astRun.code }}"></div>
{% endif %}

{{ form_start(form) }}
    <div class="flex">
        <div class="flex-1 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 px-1 py-1 my-2">
            <div id="editor-code-ast" style="height:400px;"></div>
            <div class="hidden">{{ form_widget(form.code) }}</div>
            {{ form_errors(form.code) }}
        </div>
    </div>

    <button id="js-submit" class="bg-transparent dark:bg-gray-800 hover:bg-green-500 dark:hover:bg-green-600 text-green-700 dark:text-green-400 font-semibold hover:text-white dark:hover:text-white py-2 px-4 border border-green-500 dark:border-green-600 hover:border-transparent dark:hover:border-transparent rounded inline-flex items-center transition-colors duration-200" type="button">
        <svg class="fill-current w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M4 4l12 6-12 6z"/></svg>
        <span>{{ astRun is defined ? 'Rebuild' : 'Build' }} AST</span>
    </button>
    <div class="hidden">{{ form_rest(form) }}</div>
{{ form_end(form) }}
